<!DOCTYPE html>
<style>
table, th, td {
  border: 1px solid black;
}
</style>
<html>
<head>
Tooie Bingo Stats 
</head>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
<input id="gen" type="number" name="gen" value="1000">
<input id="btn1" type="button" value="Generate Cards" onclick="generate();"  />


<textarea align="right" rows="40" cols="120"style="right:10px;position:fixed;height:400px;width:800px;font-size:14pt;" id="goals" type="text" name="goals">
bingoList[1] = [
{name: "All Honeycomb in IoH", types: ["Honeycombs", "Over"]},
{name: "6-Health BK", types: ["Honeycombs"]},
{name: "3 Jiggies in MT", types: ["MT", "jiggies"]},
{name: "All Warppads in GGM", types: ["Warps", "GGM"]},
{name: "Purchase Blubber’s Last Possession", types: ["JRL"]}
];

bingoList[2] = [
{name: "All Notes in GGM", types: ["Notes", "GGM"]},
{name: "Free Gobi", types: ["WW"]},
{name: "All Warppads in CCL", types: ["Warps", "CCL"]},
{name: "All Honeycombs in GGM", types: ["Honeycombs", "GGM"]},
{name: "Get Double Air", types: ["Over"]},
{name: "Dilberta Jiggy", types: ["MT", "GGM"]},
{name: "Pillars Jiggy", types: ["MT"]}
];

bingoList[3] = [
{name: "Stub Biggafoots Toe", types: ["HFP"]},
{name: "Oxygenate JRL Water", types: ["JRL"]},
{name: "All Jinjos in MT", types: ["Jinjos", "MT"]},
{name: "Relic Jiggy", types: ["MT"]},
{name: "4 Cheato Pages", types: ["Cheatos"]},
{name: "4 Jiggies in MT", types: ["MT", "jiggies"]},
{name: "All Cheato Pages in MT", types: ["Cheatos", "MT"]}
];

bingoList[4] = [
{name: "All Honeycombs in MT", types: ["Honeycombs", "MT"]},
{name: "All Warppads in WW", types: ["Warps", "WW"]},
{name: "Pawno Cheato Page", types: ["Cheatos", "JRL"]},
{name: "4 Trebleclefs", types: ["Trebleclef", "Over"]},
{name: "30 Doubloons", types: ["JRL"]},
{name: "All Honeycombs in CCL", types: ["Honeycombs", "CCL"]},
{name: "Smugglers Cove Jiggy", types: ["JRL"]},
{name: "7-Health BK", types: ["Honeycombs"]}
];

bingoList[5] = [
{name: "All Notes in JRL", types: ["Notes", "JRL"]},
{name: "All Warppads in JRL", types: ["Warps", "JRL"]},
{name: "All Honeycombs in WW", types: ["Honeycombs", "WW"]},
{name: "All Notes in WW", types: ["Notes", "WW"]},
{name: "Kill 5 Minjos", types: ["Minjos"]},
{name: "All Warppads in MT", types: ["Warps", "MT"]},
{name: "All Honeycombs in HFP", types: ["Honeycombs", "HFP", "JRL"]},
{name: "Learn Breegull Bash", types: ["Bash"]},
{name: "5 Jiggies in MT", types: ["MT", "jiggies"]}
];

bingoList[6] = [
{name: "4 Jiggies in GGM", types: ["GGM", "jiggies"]},
{name: "All Honeycombs in JRL", types: ["Honeycombs", "JRL"]},
{name: "Ancient Swimming Baths CP", types: ["Cheatos", "JRL"]},
{name: "All Honeycombs in TDL", types: ["Honeycombs", "TDL"]},
{name: "Mingy Jongo Jiggy", types: ["Bosses", "CCL"]},
{name: "Crushing Shed Jiggy", types: ["GGM"]},
{name: "All CP, HC, and Glowbos in MT", types: ["MT", "Cheatos", "Honeycombs", "Glowbos"]},
{name: "6 Jiggies in MT", types: ["MT", "jiggies"]}
];

bingoList[7] = [
{name: "7 Glowbos", types: ["Glowbo"]},
{name: "Mayan Kickball Jiggy", types: ["MT"]},
{name: "Chompasaurus Jiggy", types: ["TDL"]},
{name: "All Warppads in HFP", types: ["Warps", "HFP"]},	
{name: "Stomping Plains Jiggy", types: ["TDL"]},
{name: "Volcano Jiggy", types: ["HFP"]},
{name: "All Notes in HFP", types: ["Notes", "HFP"]},
{name: "5 Trebleclefs", types: ["Trebleclef"]},
{name: "Ice Wall Jiggy", types: ["HFP"]},
{name: "Cheese Wedge Jiggy", types: ["CCL"]},
{name: "All Jinjos in WW", types: ["Jinjos", "WW"]},
{name: "All Cheato Pages in TDL", types: ["Cheatos", "TDL"]}
];

bingoList[8] = [
{name: "Enlarge the Small Styracosaurus", types: ["TDL"]},
{name: "Terry Jiggy", types: ["Bosses", "TDL"]},
{name: "Kill 7 Minjos", types: ["Minjos"]},
{name: "All Notes in IoH", types: ["Notes"]},
{name: "All Notes in TDL", types: ["Notes", "TDL"]},
{name: "Roar Cage Jiggy as T-Rex", types: ["TDL"]},
{name: "Merry Maggie Jiggy", types: ["JRL"]},
{name: "Mr. Patch Jiggy", types: ["Bosses", "WW"]},
{name: "Eyeball Plant Jiggy", types: ["CCL"]},
{name: "Mountain CP as T-Rex", types: ["Cheatos", "TDL"]},
{name: "Rocknuts Jiggy", types: ["TDL"]},
{name: "All Cheato Pages in HFP", types: ["Cheatos", "HFP"]},
{name: "6 Cheato Pages", types: ["Cheatos"]}
];

bingoList[9] = [
{name: "All Cheato Pages in JRL", types: ["Cheatos", "JRL"]},
{name: "Ice Train Jiggy", types: ["HFP"]},
{name: "All Jinjos in JRL", types: ["Jinjos", "JRL"]},
{name: "Weldar Jiggy", types: ["GI"]},
{name: "Targitzan Jiggy", types: ["MT"]},
{name: "Zubba's Minigame Jiggy", types: ["CCL"]},
{name: "Oogle Boogle Jiggy", types: ["TDL"]},
{name: "Old King Coal Jiggy", types: ["Train", "GGM"]},
{name: "All Warppads in TDL", types: ["Warps", "TDL"]},
{name: "4 Train Switches", types: ["Train"]}
];

bingoList[10] = [
{name: "Trash Can Jiggy", types: ["CCL"]},
{name: "4 Jiggies in CCL", types: ["CCL", "jiggies"]},
{name: "Jiggy & CP in Pot O' Gold", types: ["Cheatos", "CCL"]},
{name: "5 Jiggies in GGM", types: ["GGM", "jiggies"]},
{name: "Both Crazy Castle Jiggies", types: ["WW"]},
{name: "Kill George and Mildred", types: ["CCL", "HFP"]},	
{name: "Chris P. Bacon Jiggy", types: ["JRL"]},
{name: "Dippy Jiggy", types: ["TDL", "CCL"]},
{name: "All Jinjos in TDL", types: ["Jinjos", "TDL"]},
{name: "Spook the Unga Bunga", types: ["TDL"]},
{name: "7 Jiggies in MT", types: ["MT", "jiggies"]}
];

bingoList[11] = [
{name: "All Jinjos in CCL", types: ["Jinjos", "CCL"]},
{name: "9 Glowbos", types: ["Glowbo"]},
{name: "6 Trebleclefs", types: ["Trebleclef"]},
{name: "Open all Elevator Doors", types: ["GI", "Bash"]},
{name: "Pig Pool Jiggy", types: ["JRL"]},
{name: "All Wumba Warp Pads", types: ["Warps"]},
{name: "4 Jiggies in HFP", types: ["HFP", "jiggies"]},
{name: "Sub Game Jiggy", types: ["JRL"]},
{name: "Woo Fak Fak Jiggy", types: ["JRL"]},
{name: "Colosseum Kickball Jiggy", types: ["HFP", "MT"]},
{name: "8 Jiggies in MT", types: ["MT", "jiggies"]},
{name: "All CP, HC, and Glowbos in TDL", types: ["TDL", "Cheatos", "Honeycombs", "Glowbos"]},
{name: "Canary Mary Jiggy & CP in GGM", types: ["Cheatos", "GGM"]}
];

bingoList[12] = [
{name: "Toxic Waste Jinjo from JRL", types: ["Jinjos", "JRL"]},
{name: "All Jinjos in HFP", types: ["Jinjos", "HFP"]},
{name: "Kill 9 Minjos", types: ["Minjos"]},
{name: "All Cheato Pages in GGM", types: ["Cheatos", "GGM"]},
{name: "All Notes in CCL", types: ["Notes", "CCL"]},
{name: "4 Jiggies in TDL", types: ["TDL", "jiggies"]},
{name: "Aliens Jiggy in JRL", types: ["JRL", "Aliens"]},
{name: "All Jinjos in GGM", types: ["Jinjos", "GGM"]},
{name: "All CP, HC, and Glowbos in HFP", types: ["HFP", "Cheatos", "Honeycombs", "Glowbos"]},
{name: "8-Health BK", types: ["Honeycombs"]}
];

bingoList[13] = [
{name: "Grow Both Beanstalks", types: ["CCL"]},
{name: "All Honeycombs in GI", types: ["Honeycombs", "GI"]},
{name: "Call Train to HFP Fire Side", types: ["Train", "HFP", "GGM"]},
{name: "8 Cheato Pages", types: ["Cheatos"]},
{name: "4 Jiggies in WW", types: ["WW", "jiggies"]},
{name: "All CP, HC, and Glowbos in GGM", types: ["GGM", "Cheatos", "Honeycombs", "Glowbos"]},
{name: "All CP, HC, and Glowbos in JRL", types: ["JRL", "Cheatos", "Honeycombs", "Glowbos"]},
{name: "5 Jiggies in CCL", types: ["CCL", "jiggies"]}
];

bingoList[14] = [
{name: "Dragon Brothers Jiggy", types: ["Bosses", "HFP"]},
{name: "5 Jiggies in TDL", types: ["TDL", "jiggies"]},
{name: "Learn Claw Clamber Boots", types: ["Moves", "GI"]},
{name: "5 Jiggies in HFP", types: ["HFP", "jiggies"]},
{name: "Call Train to TDL", types: ["Train", "TDL"]},
{name: "Defeat 5 Bosses", types: ["Bosses"]},
{name: "6 Jiggies in GGM", types: ["GGM", "jiggies"]},
{name: "All Jinjos in IoH & SM", types: ["Jinjos"]}
];

bingoList[15] = [
{name: "11 Glowbos", types: ["Glowbo", "Global"]},
{name: "7 Trebleclefs", types: ["Trebleclef"]},
{name: "All Warppads in GI", types: ["Warps", "GI"]},
{name: "All Notes in GI", types: ["Notes", "GI"]},
{name: "Tiptup Jiggy", types: ["JRL", "hatch"]},
{name: "Call Train to GI", types: ["GI", "Train"]},
{name: "All Cheato Pages in GI", types: ["Cheatos", "GI"]},
{name: "All Mumbo Warp Pads", types: ["Warps", "Over"]},
{name: "5 Jiggies in GI", types: ["GI", "jiggies"]}
];

bingoList[16] = [
{name: "Hatch all Eggs in CCL", types: ["CCL", "hatch"]},
{name: "Both Toxic Waste Jiggies", types: ["GI"]},
{name: "Open Superstash Deluxe Safe", types: ["CCL"]},
{name: "Learn Leg Spring", types: ["Moves", "GI"]},
{name: "Star Spinner Jiggy", types: ["WW"]}
];

bingoList[17] = [
{name: "Mayan and Colosseum Kickball Jiggies", types: ["HFP", "MT"]},
{name: "10 Cheato Pages", types: ["Cheatos", "Global"]},
{name: "All Jinjos in GI", types: ["Jinjos", "GI"]},
{name: "4 Jiggies in JRL", types: ["JRL", "jiggies"]},
{name: "6 Jiggies in TDL", types: ["TDL", "jiggies"]}, 
{name: "Defeat Klungo 3", types: ["Bosses", "CK", "Over"]},
{name: "Quality Control Jiggy", types: ["GI"]},
{name: "Kill 11 Minjos", types: ["Minjos", "Global"]},
{name: "7 Jiggies in GGM", types: ["GGM", "jiggies"]}
];

bingoList[18] = [
{name: "6 Jiggies in CCL", types: ["CCL", "jiggies"]},
{name: "Learn Snooze Pack", types: ["Moves", "GI"]},
{name: "Boggy’s Kids Jiggy", types: ["WW"]},
{name: "All Train Switches", types: ["Train", "Global"]},
{name: "Hatch Heggy’s 3 Eggs", types: ["Bash", "hatch"]},
{name: "Clinkers Cavern Jiggy", types: ["GI"]}
];

bingoList[19] = [
{name: "Learn Shack Pack", types: ["Moves", "HFP"]},
{name: "Unscrew All 3 Platforms in GI", types: ["GI"]},
{name: "5 Jiggies in WW", types: ["WW", "jiggies"]},
{name: "All Cheato Pages in WW", types: ["Cheatos", "WW"]},
{name: "13 Glowbos", types: ["Glowbo", "Global"]},
{name: "All CP, HC, and Glowbos in GI", types: ["GI", "Cheatos", "Honeycombs", "Glowbos"]},
{name: "8 Trebleclefs", types: ["Trebleclef", "Global"]}
];

bingoList[20] = [
{name: "Dodgem Dome Jiggy", types: ["WW"]},
{name: "Twinkly Packaging Jiggy", types: ["GI"]},
{name: "Icicle Grotto CP w/ Shack Pack", types: ["HFP", "Cheato", "Moves"]},
{name: "7 Jiggies in CCL", types: ["CCL", "jiggies"]},
{name: "Dragon Kazooie", types: ["GGM"]},
{name: "Defeat 6 Bosses", types: ["Bosses"]},
{name: "Learn Glide", types: ["Moves", "HFP"]},
{name: "Defeat Hag 1", types: ["CK"]},
{name: "8 Jiggies in GGM", types: ["GGM", "jiggies"]},
{name: "9 Trebleclefs", types: ["Trebleclef", "Global"]}
];

bingoList[21] = [
{name: "Oil Drill Jiggy", types: ["HFP", "GI"]},
{name: "12 Cheato Pages", types: ["Cheatos", "Global"]},
{name: "Jelly Castle Jiggy as Banjo", types: ["CCL", "Moves"]},
{name: "Canary Mary Jiggy & CP in CCL", types: ["GGM", "CCL", "Cheatos"]},
{name: "6 Jiggies in HFP", types: ["HFP", "jiggies"]},
{name: "1 Jiggy in Every Level", types: ["Global", "jiggies"]},
{name: "Sabreman Jiggy", types: ["HFP"]},
{name: "All CP, HC, and Glowbos in WW", types: ["WW", "Cheatos", "Honeycombs", "Glowbos"]},
{name: "6 Jiggies in GI", types: ["GI", "jiggies"]}
];

bingoList[22] = [
{name: "Terry’s Kids Jiggy", types:["TDL", "hatch"]},
{name: "6 Jiggies in WW", types: ["WW", "jiggies"]},
{name: "8 Jiggies in CCL", types: ["CCL", "jiggies"]},
{name: "1 Cheato Page in Every Level", types: ["Global", "Cheatos"]},
{name: "5 Jiggies in JRL", types: ["JRL", "jiggies"]},
{name: "Worker Jiggy in GI", types: ["GI"]}
];

bingoList[23] = [
{name: "All Cheato Pages in CCL", types: ["Cheatos", "CCL"]},
{name: "9-Health BK", types: ["Honeycombs"]},
{name: "Hatch 7 Eggs", types: ["hatch", "Over"]},
{name: "Kill 13 Minjos", types: ["Minjos", "Global", "Over"]},
{name: "All Jinjos in MT, TDL, and GI", types: ["Jinjos", "MT", "TDL", "GI"]},
{name: "All Jinjos in GGM, JRL, and IoH/SM", types: ["Jinjos", "GGM", "JRL"]},
{name: "Ride Train to Icy Side", types: ["HFP", "Train"]}
];

bingoList[24] = [
{name: "6 Jiggies in JRL", types: ["JRL", "jiggies"]},
{name: "7 Jiggies in GI", types: ["GI", "jiggies"]},
{name: "7 Jiggies in TDL", types: ["TDL", "jiggies"]},
{name: "All Jinjos in WW, HFP, and CCL", types: ["Jinjos", "WW", "HFP", "CCL"]},
{name: "7 Jiggies in WW", types: ["WW", "jiggies"]}
];

bingoList[25] = [
{name: "Learn Sack Pack", types: ["Moves", "CCL"]},
{name: "Alien Kids Jiggy", types: ["HFP", "Aliens"]},
{name: "Heal The Sick Styracosaurus", types:  ["TDL"]},
{name: "7 Jiggies in HFP", types: ["HFP", "jiggies"]},
{name: "Defeat 7 Bosses", types: ["Bosses"]},
{name: "All CP, HC, and Glowbos in CCL", types: ["CCL", "Global"]},
{name: "Open all 4 Battery Doors in GI", types: ["GI"]}
];

</textarea>
<table id = "bingo" style="top:420px;right:10px;width:33%;position:fixed;"> </table>
<input id="next" type="button" value="Next Card" onclick="change_board();" style="top:450px;right:700px;position:fixed;" />
<p id="cardSeed" style="top:460px;right:700px;position:fixed;"></p>
<br>
<input id="btn2" type="button" value="Sort By" onclick="changesort();"  />
<input type="checkbox" id="checkPair" name="checkPair" value="pair"> Include Pairs<br>

<p id="sort"> </p>

<p id="seed"> </p>

<script >
document.getElementById("goals").style.width = window.innerWidth /2;
document.getElementById("goals").style.height = window.innerHeight;



var SEED = 0 ;

function stat(goal,rank,types, empty) {
	this.goal = goal;
	this.rank = rank;
	this.types= types;
	this.amount = 0;
	this.array_close=empty;
	this.tagrate = 0;
	this.most = "";
	this.num =0;
	this.print = function(){
		return ""+this.goal +  " <pre> Appeared: "+ this.amount+ "  |  " + ((this.amount/document.getElementById("gen").value)*100).toFixed(2) +"%  |  Difficulty: "+this.rank+"  |  Tags: "+this.types+"  "+this.calc()+"</pre>";
		}
		
	this.calc = function(){
		this.most ="";
		this.num = 0;
		this.array_close.sort(function(a, b){return b.amount-a.amount});

		if (document.getElementById("checkPair").checked){
			return "\nPaired with: "+this.array_close[1].name+" : "+ ((this.array_close[1].amount/this.amount)*100).toFixed(2) + "%  |  "+this.array_close[2].name+" : "+ ((this.array_close[2].amount/this.amount)*100).toFixed(2) + "%  |  "+this.array_close[3].name+" : "+ ((this.array_close[3].amount/this.amount)*100).toFixed(2) + "%";
			}
		return "";
		}
	}
	
function close(name){
	this.name = name;
	this.amount = 0;


	}
	
var stats_array = [];
var sorting =0;
function changesort(){
	sorting++;
	document.getElementById("seed").innerHTML="";
	if(sorting%2 == 0)
	{
		document.getElementById("sort").innerHTML="Appearance Rate";
		stats_array.sort(function(a, b){return b.amount-a.amount});
			stats_array.forEach(function(element) {
		document.getElementById("seed").innerHTML = document.getElementById("seed").innerHTML + "<br>" + element.print();
	});
	}
	if(sorting%2 == 1)
	{
		document.getElementById("sort").innerHTML="Difficulty";
		stats_array.sort(function(a, b){return b.rank-a.rank});
			stats_array.forEach(function(element) {
		document.getElementById("seed").innerHTML = document.getElementById("seed").innerHTML + "<br>" + element.print();
	});
	}
}

var board_check = [];
var board_seed = [];
var current_board =0;
function generate()
	{
	//parse input
	bingoList = [];
	var obj = document.getElementById("goals").value.split('\n');
	var bingoLine =1;
	bingoList.push([]);
	bingoList.push([]);
	for (i = 0; i < obj.length;i++)
		{
		if(obj[i].charAt(0)=='{')
			{
				var partName = obj[i].split(":");
				partName = partName[1].substring(
					partName[1].indexOf('"') + 1, 
					partName[1].lastIndexOf('"')
				);
				
				
				var partType = obj[i].substring(
					obj[i].indexOf('[') , 
					obj[i].lastIndexOf("]")+1
				);
				bingoList[bingoLine].push({name: partName, types: JSON.parse(partType) })
			}
		if(obj[i].charAt(0)==']')
			{
			bingoLine++;
			bingoList.push([]);
			}
		}
	document.getElementById("seed").innerHTML="";
	stats_array=[];

	bingoList.forEach(function(element,index) {
	  element.forEach(function(goal) {
	  
	  
	  	var second_list = [];
		
		if (document.getElementById("checkPair").checked){
		bingoList.forEach(function(element,index) {
		element.forEach(function(goal) {
		second_list.push(new close(goal.name))
			});
			});}
	  
	  stats_array.push(new stat(goal.name,index, goal.types, second_list))
	});
	});	

	
	var genval = document.getElementById("gen").value;
	current_board=0;
	board_check = [];
	for(i = 0; i<genval;i++)
		{
		bingoBoard = [];
		//document.getElementById("seed").innerHTML = i + "/"+genval;
		SEED = (Math.floor(Math.random()*5915587277)%10000);
		createBoard();
		board_check.push(bingoBoard);
		board_seed.push(SEED);
		document.getElementById("cardSeed").innerHTML=""+board_seed[current_board];
		for(j = 0; j < stats_array.length; j++){
		  for(b = 1; b <= 25; b++){
			if(stats_array[j].goal == bingoBoard[b].name)
				{
					stats_array[j].amount = stats_array[j].amount+1;
					//console.log(stats_array[j].goal);
					//calculate rows and col partners
					//rows
				if (document.getElementById("checkPair").checked){
					if(b>=1 && b<=5)
					{
						for(var x = 1; x <= 5; x++)
							{
								for(var c = 0; c < stats_array[j].array_close.length; c++){
									if (bingoBoard[x].name == stats_array[j].array_close[c].name)
										{
											stats_array[j].array_close[c].amount++;
										}
									}
							}
					}
					if(b>=6 && b<=10)
					{
						for(var x = 6; x <= 10; x++)
							{
								for(var c = 0; c < stats_array[j].array_close.length; c++){
									if (bingoBoard[x].name == stats_array[j].array_close[c].name)
										{
											stats_array[j].array_close[c].amount++;
										}
									}
							}
					}
					if(b>=11 && b<=15)
					{
						for(var x = 11; x <= 15; x++)
							{
								for(var c = 0; c < stats_array[j].array_close.length; c++){
									if (bingoBoard[x].name == stats_array[j].array_close[c].name)
										{
											stats_array[j].array_close[c].amount++;
										}
									}
							}
					}
					if(b>=16 && b<=20)
					{
						for(var x = 16; x <= 20; x++)
							{
								for(var c = 0; c < stats_array[j].array_close.length; c++){
									if (bingoBoard[x].name == stats_array[j].array_close[c].name)
										{
											stats_array[j].array_close[c].amount++;
										}
									}
							}
					}
					if(b>=21 && b<=25)
					{
						for(var x = 21; x <= 25; x++)
							{
								for(var c = 0; c < stats_array[j].array_close.length; c++){
									if (bingoBoard[x].name == stats_array[j].array_close[c].name)
										{
											stats_array[j].array_close[c].amount++;
										}
									}
							}
					}					
					//col
					if(b==1 || b==6 || b==11 || b==16 || b==21)
					{
						for(var x = 1; x <= 21; x=x+5)
							{
								for(var c = 0; c < stats_array[j].array_close.length; c++){
									if (bingoBoard[x].name == stats_array[j].array_close[c].name)
										{
											stats_array[j].array_close[c].amount++;
										}
									}
							}
					}
					if(b==2 || b==7 || b==12 || b==17 || b==22)
					{
						for(var x = 2; x <= 22; x=x+5)
							{
								for(var c = 0; c < stats_array[j].array_close.length; c++){
									if (bingoBoard[x].name == stats_array[j].array_close[c].name)
										{
											stats_array[j].array_close[c].amount++;
										}
									}
							}
					}
					if(b==3 || b==8 || b==13 || b==18 || b==23)
					{
						for(var x = 3; x <= 23; x=x+5)
							{
								for(var c = 0; c < stats_array[j].array_close.length; c++){
									if (bingoBoard[x].name == stats_array[j].array_close[c].name)
										{
											stats_array[j].array_close[c].amount++;
										}
									}
							}
					}	
					if(b==4 || b==9 || b==14 || b==19 || b==24)
					{
						for(var x = 4; x <= 24; x=x+5)
							{
								for(var c = 0; c < stats_array[j].array_close.length; c++){
									if (bingoBoard[x].name == stats_array[j].array_close[c].name)
										{
											stats_array[j].array_close[c].amount++;
										}
									}
							}
					}
					if(b==5 || b==10 || b==15 || b==20 || b==25)
					{
						for(var x = 5; x <= 25; x=x+5)
							{
								for(var c = 0; c < stats_array[j].array_close.length; c++){
									if (bingoBoard[x].name == stats_array[j].array_close[c].name)
										{
											stats_array[j].array_close[c].amount++;
										}
									}
							}
					}
					if(b==1 || b==7 || b==13 || b==19 || b==25)
					{
						for(var x = 1; x <= 25; x=x+6)
							{
								for(var c = 0; c < stats_array[j].array_close.length; c++){
									if (bingoBoard[x].name == stats_array[j].array_close[c].name)
										{
											stats_array[j].array_close[c].amount++;
										}
									}
							}
					}	
					if(b==5 || b==9 || b==13 || b==17 || b==21)
					{
						for(var x = 5; x <= 21; x=x+4)
							{
								for(var c = 0; c < stats_array[j].array_close.length; c++){
									if (bingoBoard[x].name == stats_array[j].array_close[c].name)
										{
											stats_array[j].array_close[c].amount++;
										}
									}
							}
					}					
					}
				}
			}
		  }
		}
	stats_array.sort(function(a, b){return b.amount-a.amount});
	document.getElementById("sort").innerHTML="Appearance Rate";
	stats_array.forEach(function(element) {
	document.getElementById("seed").innerHTML = document.getElementById("seed").innerHTML + "<br>" + element.print();
	});
	tableFill();
   }
 
 
var bingoList = [];

	function tableFill() {
		var cells = document.getElementById('bingo').getElementsByTagName("td"); 
			for (var i = 1; i < cells.length+1; i++) { 
					cells[i-1].innerHTML = board_check[current_board][i].name;
					
				}	
		}

function change_board()
	{
	current_board++;
	document.getElementById("cardSeed").innerHTML=""+board_seed[current_board];
	tableFill();
	}
	
	function tableCreate() {
	var a = 0;
    var body = document.getElementsByTagName('body')[0];
    var tbl = document.getElementById('bingo');
    var tbdy = document.createElement('tbody');
    for (var i = 0; i < 5; i++) {
        var tr = document.createElement('tr');
        for (var j = 0; j < 5; j++) {

                var td = document.createElement('td');
                td.appendChild(document.createTextNode('null'))
				td.setAttribute('id',a)
				td.setAttribute('onclick','clicked(this)')
				td.setAttribute('height', '80px');
                tr.appendChild(td)
			a++;
        }
        tbdy.appendChild(tr);
    }
    tbl.appendChild(tbdy);
    body.appendChild(tbl)
	
}
tableCreate();


var lineCheckList = [];
		lineCheckList[1]  = [1,2,3,4,5,10,15,20,6,12,18,24];
		lineCheckList[2]  = [0,2,3,4,6,11,16,21];
		lineCheckList[3]  = [0,1,3,4,7,12,17,22];
		lineCheckList[4]  = [0,1,2,4,8,13,18,23];
		lineCheckList[5]  = [0,1,2,3,8,12,16,20,9,14,19,24];

		lineCheckList[6]  = [0,10,15,20,6,7,8,9];
		lineCheckList[7]  = [0,12,18,24,5,7,8,9,1,11,16,21];
		lineCheckList[8]  = [5,6,8,9,2,12,17,22];
		lineCheckList[9]  = [4,12,16,20,9,7,6,5,3,13,18,23];
		lineCheckList[10]  = [4,14,19,24,8,7,6,5];

		lineCheckList[11] = [0,5,15,20,11,12,13,14];
		lineCheckList[12] = [1,6,16,21,10,12,13,14];
		lineCheckList[13] = [0,6,12,18,24,20,16,8,4,2,7,17,22,10,11,13,14];
		lineCheckList[14] = [3,8,18,23,10,11,12,14];
		lineCheckList[15] = [4,9,19,24,10,11,12,13];

		lineCheckList[16] = [0,5,10,20,16,17,18,19];
		lineCheckList[17] = [15,17,18,19,1,6,11,21,20,12,8,4];
		lineCheckList[18] = [15,16,18,19,2,7,12,22];
		lineCheckList[19] = [15,16,17,19,23,13,8,3,24,12,6,0];
		lineCheckList[20] = [4,9,14,24,15,16,17,18];

		lineCheckList[21] = [0,5,10,15,16,12,8,4,21,22,23,24];
		lineCheckList[22] = [20,22,23,24,1,6,11,16];
		lineCheckList[23] = [2,7,12,17,20,21,23,24];
		lineCheckList[24] = [20,21,22,24,3,8,13,18];
		lineCheckList[25] = [0,6,12,18,20,21,22,23,19,14,9,4]; 
		
	function difficulty(i) {
		// To create the magic square we need 2 random orderings of the numbers 0, 1, 2, 3, 4.
		// The following creates those orderings and calls them Table5 and Table1

		var Num3 = SEED%1000;	// Table5 will use the ones, tens, and hundreds digits.

		var Rem8 = Num3%8;
		var Rem4 = Math.floor(Rem8/2);
		var Rem2 = Rem8%2;
		var Rem5 = Num3%5;
		var Rem3 = Num3%3;	// Note that Rem2, Rem3, Rem4, and Rem5 are mathematically independent.
		var RemT = Math.floor(Num3/120);	// This is between 0 and 8		

		// The idea is to begin with an array containing a single number, 0.
		// Each number 1 through 4 is added in a random spot in the array's current size.
		// The result - the numbers 0 to 4 are in the array in a random (and uniform) order.
		var Table5 = [0];
		Table5.splice(Rem2, 0, 1);
		Table5.splice(Rem3, 0, 2);
		Table5.splice(Rem4, 0, 3);
		Table5.splice(Rem5, 0, 4);

		Num3 = Math.floor(SEED/1000);	// Table1 will use the next 3 digits.
		Num3 = Num3%1000;

		Rem8 = Num3%8;
		Rem4 = Math.floor(Rem8/2);
		Rem2 = Rem8%2;
		Rem5 = Num3%5;
		Rem3 = Num3%3;
		RemT = RemT * 8 + Math.floor(Num3/120);	 // This is between 0 and 64.

		var Table1 = [0];
		Table1.splice(Rem2, 0, 1);
		Table1.splice(Rem3, 0, 2);
		Table1.splice(Rem4, 0, 3);
		Table1.splice(Rem5, 0, 4);

		i--;
		RemT = RemT%5;		//  Between 0 and 4, fairly uniformly.
		x = (i+RemT)%5;		//  RemT is horizontal shift to put any diagonal on the main diagonal.
		y = Math.floor(i/5);

		// The Tables are set into a single magic square template
		// Some are the same up to some rotation, reflection, or row permutation.
		// However, all genuinely different magic squares can arise in this fashion.
		var e5 = Table5[(x + 3*y)%5];
		var e1 = Table1[(3*x + y)%5];

		// Table5 controls the 5* part and Table1 controls the 1* part.
		value = 5*e5 + e1;

		
			value++;
		return value;
	}

	function checkLine (i, typesA) {
		var synergy = 0;
		if (typeof typesA != 'undefined') {
			for (var j=0; j<lineCheckList[i].length; j++) {
				var typesB = bingoBoard[lineCheckList[i][j]+1].types;
				if (typeof typesB != 'undefined') {
					for (var k=0; k < typesA.length; k++) {
						for (var l=0; l < typesB.length; l++) {
							if (typesA[k] == typesB[l]) {
								synergy++; // if match increase
								if (k==0) { synergy++; } // if main type increase
								if (l==0) { synergy++; } // if main type increase
							}
						}
					}
				}
			}
		}
		return synergy;
	}

	var bingoBoard = []; //the board itself stored as an array first
	
	function createBoard(){
		for (var i=1;i<=25;i++) {
			bingoBoard[i] = {difficulty: difficulty(i)}; //array with objects that
			//console.log(bingoBoard[i].difficulty);       //store the difficulty
		}                                          // in order 1-25

		//populate the bingo board in the array
		for (i=1; i<=25; i++) {
			var getDifficulty = bingoBoard[i].difficulty; // difficulty of current square
			var RNG = Math.floor(bingoList[getDifficulty].length * Math.random());
			if (RNG == bingoList[getDifficulty].length) { RNG--; } //fix a miracle
			var j = 0, synergy = 0, currentObj = null, minSynObj = null;

			do {
				currentObj = bingoList[getDifficulty][(j+RNG)%bingoList[getDifficulty].length];
				synergy = checkLine(i, currentObj.types);
				if (minSynObj == null || synergy < minSynObj.synergy) {
				  minSynObj = { synergy: synergy, value: currentObj };
				}
				j++;
			} while ((synergy != 0) && (j<bingoList[getDifficulty].length));

			bingoBoard[i].types = minSynObj.value.types;
			bingoBoard[i].name = minSynObj.value.name;
			bingoBoard[i].synergy = minSynObj.synergy;
		}
	}
	


  </script>